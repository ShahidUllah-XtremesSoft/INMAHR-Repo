@* ********************* ************** ******* ********************************************************************************************************************************************************************************************************************* *@
@* ********************* ************** ******* ******************** *@
@* *********************                                           ******************** *@
@* *********************   Comment  History ******************** *@
@* *********************                                            ******************* *@
@* ********************* **************** BY |\/|ati ************************************* *@

 
<!-- Row start -->
<div class="card">
    <div class="card-block">
        <div class="row">
            <div class="col-lg-12 col-xl-12 ">

                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active HistoryTab" data-bs-toggle="tab" href="#" role="tab"><span class="hidden-sm-up"></span> <span class="hidden-xs-down">@ProjectUI.ProjectUI.lblHistory</span></a>

                    </li>
                </ul>
                <!-- Tab panes -->

                <div class="tab-content tabcontent-border">
                    <div class="tab-pane active HistoryTab" id="HistoryTab" role="tabpanel">
                        <div class="p-20">

                            <div class="row">
                                <div class="col-sm-8">

                                    <div class="table-responsive" style="font-size: small;">
                                        <table class="table  invoice-detail-table">
                                            <thead>
                                                @*<tr class="thead-default">*@
                                                <tr class="">
                                                    <th colspan="2">@ProjectUI.ProjectUI.lblEmployee</th>
                                                    <th>@ProjectUI.ProjectUI.lblTask</th>
                                                    <th>@ProjectUI.ProjectUI.lblActivity</th>
                                                    <th>@ProjectUI.ProjectUI.lblStatus</th>
                                                    <th>@ProjectUI.ProjectUI.lblDate</th>
                                                </tr>
                                            </thead>


                                            <tbody id="append_HistoryLog"></tbody>


                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabs -->

            </div>

        </div>
    </div>
</div>
<!-- Row end -->
@* ********************* ********************* END **************************************** *@

@*<script type="text/javascript">


        debugger
        var _id = (new URL(location.href)).searchParams.get('id');



        ajaxRequest({
            commandName: 'Project_Task_Log_by_TaskId'
            , values: {
                Id: _id == null ? 0 : _id,
                Language: _currentLanguage
            }, CallBack: fnLoadNoteDetailByID
        });

        //#Load  Details by ID From the Database#
        function fnLoadNoteDetailByID(d) {
            var attachment = '';
            if (JSON.parse(d.Value).length > 0) {
                $('#append_HistoryLog').html('');
                for (var i = 0; i < JSON.parse(d.Value).length; i++) {
                    var clientRowStyle = '';


                    var currentFileName = JSON.parse(d.Value)[i].currentFileName;

                    if (currentFileName == null) {
                        attachment = "<img class='' src='../../Content/Images/user.jpg' style='width:100%;cursor:pointer;border-radius:30px;'/>";
                    } else {
                        attachment = `<a  target='_blank' href='/UploadFile/` + currentFileName + `'> <img class='' src='/UploadFile/` + currentFileName + `'        style='width:100%;cursor:pointer;border-radius:30px;'/> </a>`;
                    }
                    //------------------ Attachment in Item List Work End

                    var status = JSON.parse(d.Value)[i].logStatus

                    if (status.match(/Complete.*/)) {
                        status = '';
                        status = `<span style='color:green;'><b>` + JSON.parse(d.Value)[i].logStatus + `</b></span>`
                        clientRowStyle = `border:green 2px solid`;
                    } else if (status.match(/Stuck.*/)) {
                        status = '';
                        status = `<span style='color:red;'><b>` + JSON.parse(d.Value)[i].logStatus + `</b></span>`
                        clientRowStyle = `border:red 2px solid`;
                    }

                    $('#append_HistoryLog').append(`
                                                                                <tr style="`+ clientRowStyle + `">
                                                                                <td  class="Attachment_" style="width: 5%;">` + attachment + `</td>
                                                                                <td >` + JSON.parse(d.Value)[i].username + `</br> <span style="color:darkgrey;">` + JSON.parse(d.Value)[i].timeDuration + ` </span></td>
                                                                                <td>` + status + ` </td>
                                                                                <td>` + JSON.parse(d.Value)[i].description + ` </td>
                                                                                <td>` + JSON.parse(d.Value)[i].commentDate + ` </td>
                                                                                </tr>`);

                }

            } else {
                alert('');
                $('.HistoryTab').hide();
            }
        }



    </script>*@
