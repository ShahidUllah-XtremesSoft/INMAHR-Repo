function fnLoadDataByParam(n){n!=undefined&&($(".buttonMenu").removeClass("active"),$(n).addClass("active"),areaType=n.value);$("#new-total-projects-grid").empty();hideDynamicDataCard_dashboar2();areaType=="New"?(fn_Load_Total_Projects_Grids(),$(".showHideYear").hide(),currentYear=(new Date).getFullYear(),$("#yearPicker").val(currentYear)):areaType=="Old"?($(".showHideYear").show(),currentYear!=0&&currentYear==(new Date).getFullYear()&&(currentYear=currentYear-1,$("#yearPicker").val(currentYear),$("#yearPicker").trigger("change")),fn_Load_Total_Projects_Grids()):areaType=="Tender"?($(".showHideYear").show(),currentYear!=0&&currentYear==(new Date).getFullYear()&&(currentYear=currentYear-1,$("#yearPicker").val(currentYear),$("#yearPicker").trigger("change")),fn_Load_Total_Project_Tenders_Grids()):areaType=="Delay"&&($(".showHideYear").hide(),currentYear!=0&&currentYear==(new Date).getFullYear()&&(currentYear=currentYear-1,$("#yearPicker").val(currentYear),$("#yearPicker").trigger("change")),fn_Load_Delay_Projects_BasedOn_Task_Grids())}function fn_Load_Delay_Projects_BasedOn_Task_Grids(){ajaxRequest({commandName:"Dashboard_Two_Get_Delay_Projects_basedOn_Task",values:{LoggedInUser:JSON.parse(localStorage.getItem("User")).id,RoleId:JSON.parse(localStorage.getItem("User")).roleId,LoggedInEmployeeId:JSON.parse(localStorage.getItem("User")).employeeId,Branch_Id:0,Year:$("#yearPicker").val(),AreaType:areaType,Language:_currentLanguage},CallBack:fn_dashboard_two_Load_Delay_Projects_By_CallBack})}function fn_dashboard_two_Load_Delay_Projects_By_Details(n){var r=$(n).closest("tr"),t=$("#new-total-projects-grid").data("kendoGrid"),i=t.dataItem(r);project_Id_=i.projectId;t.tbody.find(".k-state-selected").removeClass("k-state-selected");t.select(r);$(".main-section-name").text(i.projectNo+" "+i.projectName);fn_dashboard_two_LoadProject_SummaryDataByParamter();$(".showhideSection").show();$("#append-delay-steps-here").append($("#load_steps_here_dashboard_two").html())}function fn_Load_Total_Project_Tenders_Grids(){ajaxRequest({commandName:"Dashboard_Two_Get_Project_Tenders_by_Year",values:{LoggedInUser:JSON.parse(localStorage.getItem("User")).id,RoleId:JSON.parse(localStorage.getItem("User")).roleId,LoggedInEmployeeId:JSON.parse(localStorage.getItem("User")).employeeId,Year:$("#yearPicker").val(),AreaType:areaType,Language:_currentLanguage},CallBack:fn_Load_Total_Projects_GridCallBackk})}function fn_Load_Total_Projects_Grids(){ajaxRequest({commandName:"Dashboard_Two_Get_Projects_by_Year",values:{LoggedInUser:JSON.parse(localStorage.getItem("User")).id,RoleId:JSON.parse(localStorage.getItem("User")).roleId,LoggedInEmployeeId:JSON.parse(localStorage.getItem("User")).employeeId,Year:$("#yearPicker").val(),AreaType:areaType,Language:_currentLanguage},CallBack:fn_Load_Total_Projects_GridCallBackk})}function fn_dashboard_two_LoadNewProjects(n){var i=$(n).closest("tr"),t=$("#new-total-projects-grid").data("kendoGrid"),r=t.dataItem(i);t.tbody.find(".k-state-selected").removeClass("k-state-selected");t.select(i);$(".showHide-app-dynamic-data").show();$(".showhideSection").show();$("#load_steps_here_dashboard_two_sample").show();areaType=="Tender"?fn_dashboard_two_Load_Tender_Projects_By_Month(r.monthName):fn_dashboard_two_Load_Projects_By_StatusId(r.monthName);$("#load_steps_here_dashboard_two").show();$("#load_steps_here_dashboard_two").empty()}function fn_dashboard_two_Load_Tender_Projects_By_Month(n){ajaxRequest({commandName:"Dashboard_Two_Tender_Projects_Getby_Month_name",values:{MonthName:n,Language:_currentLanguage},CallBack:fn_dashboard_two_Load_Projects_By_StatusIdCallBack})}function fn_dashboard_two_Load_Projects_By_StatusId(n){ajaxRequest({commandName:"Dashboard_Two_Projects_Getby_Month_name",values:{MonthName:n,Language:_currentLanguage},CallBack:fn_dashboard_two_Load_Projects_By_StatusIdCallBack})}function fn_dashboard_two_Load_Projects_By_StatusId_Details(n){var r=$(n).closest("tr"),t=$("#append-dynamic-data").data("kendoGrid"),i=t.dataItem(r);project_Id_=i.projectId;t.tbody.find(".k-state-selected").removeClass("k-state-selected");t.select(r);$(".main-section-name").text(i.projectNo+" "+i.projectName);showAllSection();fn_dashboard_two_LoadProject_SummaryDataByParamter()}function fn_dashboard_two_LoadProject_SummaryDataByParamter(){ajaxRequest({commandName:"Dashboard_One_Project_STEPPER_Summary_Getby_Project_Id",values:{Project_Id:project_Id_,Language:_currentLanguage},CallBack:steppers__SECTION_CallBack__})}function steppers__SECTION_CallBack__(n){var i=JSON.parse(n.Value)[0],t;$("#load_steps_here_dashboard_two").empty();$("#load_steps_here_dashboard_two_sample").empty();var f=0,r="",e="",u="";for(t=0;t<i.length;t++)i[t].sectionIncluded!="no"&&(f=f+1,i[t].taskStatus.match(/Complete.*/)?(r="badge-success",e="white",u='<i class="fa fa-check"><\/i>'):i[t].taskStatus.match(/Running.*/)?(r="badge-warning",u='<i class="fa fa-clock-o"><\/i>'):i[t].taskStatus.match(/.*/)&&(r="badge-light",u="-"),$("#load_steps_here_dashboard_two").append(`
                            <tr style="">
                                <td><div style="width:100%" class="     btn  "> `+f+` </div></td>
                             <td style="display: flex;width: -webkit-fill-available;">
                                    <div class="MenuNoSteps btn     `+r+`"> `+u+` </div>
                                    
                                    <button task-id=`+i[t].task_Id+` project-id=`+i[t].task_Id+` type="button" id="btn-" class="btn      `+r+` buttonMenuSteps" onclick="fn_dashboard_two_Load_all_sub_task(this)" value="">`+i[t].name+` </button>
                                </td>
                            </tr>

                `))}function fn_dashboard_two_Load_all_sub_task(n){var t=$(n).attr("task-id");task_Id=t;fnLoadProject_Section_SummaryDataByParamter()}function fn_Load_Section_Details(n){var r=$(n).closest("tr"),r=$(n).closest("tr"),i=$("#append-section-details").data("kendoGrid"),t=i.dataItem(r);i.tbody.find(".k-state-selected").removeClass("k-state-selected");i.select(r);section_Id_=t.id;task_Id=t.task_Id==null?0:t.task_Id;$(".sub-section-name").text(t.name);fnLoadProject_Section_SummaryDataByParamter()}function fnLoadProject_Section_SummaryDataByParamter(){ajaxRequest({commandName:"Project_Task_Details_By_Employee_Id",values:{task_Id:task_Id,Language:_currentLanguage},CallBack:steppers__SECTION_Details_CallBack_})}function steppers__SECTION_Details_CallBack_(n){var t=JSON.parse(n.Value),i;t!=null&&($(".div-sub-section").hide(),i=[{title:"#",template:"<b>#= ++record #<\/b>",width:"3%"},{field:"project_Task_Multiple_Id",title:"project_Task_Multiple_Id",filterable:!1,hidden:!0,editable:!0},{field:"task_Id",title:"task_Id",filterable:!1,hidden:!0,editable:!0},{field:"setup_Sub_Section_Id",title:"setup_Sub_Section_Id",filterable:!1,hidden:!0,editable:!0},{field:"taskName",title:lblTask,width:"8%",filterable:!1,editable:!0},{field:"completionDate_new",title:lblCompletionDate,width:"5%",filterable:!1,editable:!0},{field:"percentage",title:"percentage",width:"8%",filterable:!1,hidden:!0,editable:!0},{field:"status",title:lblStatus,width:"8%",filterable:!1,hidden:!1,editable:!0},{title:"",width:"5%",filterable:!1,template:"<a style='cursor:pointer;text-decoration:underline;color:blue;'   class='viewbutton'  onClick= fn_Load_Section_Sub_Details(this)  title=''>"+lblView+"<\/a> "},],bindKendoGrid("append-section-sub-details",1e3,i,t,!1,500,!1),$(".div-sub-section").fadeToggle())}function fn_Load_Section_Sub_Details(n){var i=$(n).closest("tr"),t=$("#append-section-sub-details").data("kendoGrid"),r=t.dataItem(i);t.tbody.find(".k-state-selected").removeClass("k-state-selected");t.select(i);window.open(`/Project/Task/Details?id=`+r.task_Id,"_blank")}function hideDynamicDataCard_dashboar2(){$(".showHide-app-dynamic-data").hide();$(".append-dynamic-data").empty();$(".showhideSection").hide();$("#load_steps_here_dashboard_two").empty()}function fnGenerateDummyStepsHTML(){}var loggedInUser={},areaType="",currentYear=0,fn_dashboard_two_Load_Delay_Projects_By_CallBack=function(n){var n=JSON.parse(n.Value),t=[{field:"projectId",title:"projectId",width:10,hidden:!0},{field:"projectNo",title:lblProjectNo,width:20,filterable:!1,filterable:{cell:{operator:"contains",suggestionOperator:"contains"}}},{field:"projectName",title:lblDetails,width:50,filterable:!1,hidden:!1},{field:"delay_tasks",title:lblDelay,width:20,filterable:!1,hidden:!1},{title:"",width:15,filterable:!1,template:"<a style='cursor:pointer;text-decoration:underline;color:blue;'  class='viewbutton' onClick= fn_dashboard_two_Load_Delay_Projects_By_Details(this)  title=''>"+lblView+"<\/a> "},];$("#new-total-projects-grid").empty();bindKendoGrid("new-total-projects-grid",1e3,t,n[0],!0,350,!1)},fn_Load_Total_Projects_GridCallBackk=function(n){bindGrid_With_TotalProjectss(JSON.parse(n.Value))},bindGrid_With_TotalProjectss=function(n){$("#new-total-projects-grid").empty();var t=[{field:"monthName",title:"Month",width:25,filterable:!1},{field:"week_1",title:"Week_1",width:10,filterable:!1,hidden:!1},{field:"week_2",title:"Week_2",width:10,filterable:!1,hidden:!1},{field:"week_3",title:"Week_3",width:10,filterable:!1,hidden:!1},{field:"week_4",title:"Week_4",width:10,filterable:!1,hidden:!1},{title:"",width:10,filterable:!1,template:"<a style='cursor:pointer;text-decoration:underline;color:blue;'  class='viewbutton' onClick= fn_dashboard_two_LoadNewProjects(this)  title=''>"+lblView+"<\/a> "},];bindKendoGrid("new-total-projects-grid",1e3,t,n,!1,300,!1)},fn_dashboard_two_Load_Projects_By_StatusIdCallBack=function(n){var n=JSON.parse(n.Value),t=[{field:"projectId",title:"projectId",width:10,hidden:!0},{field:"projectNo",title:lblProjectNo,width:20,filterable:!1,filterable:{cell:{operator:"contains",suggestionOperator:"contains"}}},{field:"projectName",title:lblDetails,width:50,filterable:!1,hidden:!1},{field:"delay_tasks",title:lblDelay,width:20,filterable:!1,hidden:!1},{title:"",width:15,filterable:!1,template:"<a style='cursor:pointer;text-decoration:underline;color:blue;'  class='viewbutton' onClick= fn_dashboard_two_Load_Projects_By_StatusId_Details(this)  title=''>"+lblView+"<\/a> "},];$("#append-dynamic-data").empty();bindKendoGrid("append-dynamic-data",1e3,t,n[0],!0,350,!1)},project_Id_,section_Id_=0,task__Id=0;